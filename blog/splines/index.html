<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Curves and Splines</title>
		<link rel="stylesheet" href="./index.css">
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
		<script src="./gl-matrix-min.js"></script>
		<script src="./index.js"></script>
	</head>
	<body>
		<div id="container">
			<h1>Polynomial curves and splines</h1>
			<ol id="table-of-contents">
				<li>
					<a href="#definitions">Definitions</a>
					<ol>
						<li><a href="#definitions-polynomial-functions-and-curves">Polynomial functions and curves</a></li>
						<li><a href="#definitions-bezier-curves">Bezier curves</a></li>
					</ol>
				</li>
				<li>
					<a href="#basic-operations">Basic operations</a>
					<ol>
						<li><a href="#basic-operations-bezier-to-parametric">Calculating the parametric representation of a Bezier curve</a></li>
					</ol>
				</li>
			</ol>

			<h2 id="definitions">Definitions</h2>

			<h3 id="definitions-polynomial-functions-and-curves">Polynomial functions and curves</h3>
			<p id="term-polynomial-function">
				<strong>Polynomial function</strong>: a function defined by $$f(t) = p_0 + p_1 \cdot t + p_2 \cdot t^2 + \ldots + p_n \cdot t^n$$ where \(n\) is the <strong>degree</strong> of the polynomial and \(p_0, p_1, p_2, \ldots, p_n\) are members of a <a href="https://en.wikipedia.org/wiki/Vector_space">vector space</a>.
			</p>
			<p>
				The most common vector spaces are the real numbers and real-valued vectors, and most examples will be given for these spaces. However, the information provided here is applicable to other vector spaces (matrices, for example) except when stated.
			</p>
			<p id="term-polynomial-curve">
				<strong>Polynomial curve</strong>: the subset of a <a href="#term-polynomial-function">polynomial function</a> where \(0 \leq t \leq 1\).
			</p>
			<p>
				While we could define polynomial curves using any left and right bound \(a \leq t \leq b\), using \(0\) and \(1\) is a simplification that makes dealing with polynomial curves easier. Later on, we'll learn how to reparameterize polynomial curves to make a curve with different bounds that still maps from \(0\) to \(1\).
			</p>
			<h4>Examples</h4>
			<p>
				TODO: add examples of simple polynomial functions and the curve parts of them
			</p>

			<h3 id="definitions-bezier-curves">Bezier curves</h3>
			<p id="term-bezier-curve">
				<strong>Bezier curve</strong>: a <a href="#term-polynomial-curve">polynomial curve</a> defined by points \(b_0, b_1, b_2, \ldots, b_n\) such that \(b_0 = f(0)\) is the start of the curve, \(b_n = f(1)\) is the end of the curve, and \(b_1, b_2, \ldots, b_{n-1}\) influence the shape of the curve in between.
				An \(n\)-degree Bezier curve has the recursive formula $$B_{b_0 b_1}(t) = (1-t) \cdot b_0 + t \cdot b_1$$ $$B_{b_0 b_1 \ldots b_n}(t) = (1-t) \cdot B_{b_0 b_1 \ldots b_{n-1}}(t) + t \cdot B_{b_1 b_2 \ldots b_n}(t)$$ and the explicit formula $$B(t) = \sum_{i=0}^n {n \choose i} \cdot (1 - t)^{n-i} \cdot t^i \cdot b_i$$
			</p>
			<p>
				Bezier curves are a different representation for polynomial curves that make them more intuitive for humans to use. Although Bezier curves will almost always be used to manipulate and display polynomial curves, we will always use the parametric representation \(p_0, p_1, p_2, \ldots, p_n\) of the curve for our calculations.
			</p>
			<h4>Examples</h4>
			<div>
				<canvas id="example1">Your browser does not support HTML5 canvas.</canvas>
				<button id="example1-reset">Reset</button>
				<input type="checkbox" id="example1-showentirecurve" checked="checked"><label for="example1-showentirecurve">Show entire curve</label>
			</div>
			<p>
				The solid red segment on the graph is the Bezier curve, and the blue dashed segment is the larger polynomial function that the curve belongs to. Although we tend to associate the control points of the bezier curve with just the curve, those points define the entire function and the curve is just the segment where \(0 \leq t \leq 1\).
			</p>

			<h2 id="basic-operations">Basic operations</h2>

			<h3 id="basic-operations-bezier-to-parametric">Calculating the parametric representation of a Bezier curve</h3>
			<p>
				You can calculate the parametric representation 
			</p>
			<ul>
				<li>Convert representations from parametric to Bezier and Hermite</li>
				<li>Calculate the value and derivatives at a given \(t\)</li>
				<li>Approximate higher-order polynomial curves with several lower-order ones</li>
				<li>Subdivide curves</li>
				<li>Calculate the length of a curve</li>
				<li>Find the nearest point on a curve</li>
			</ul>
			<p>
				One way to think about cubic curves is as segments of cubic functions. What we render is just a small segment of an infinite function that stretches out to infinity.
			</p>
			<div>
				<canvas id="example2">Your browser does not support HTML5 canvas.</canvas>
				<button id="example2-reset">Reset</button>
				<input type="checkbox" id="example2-showentirecurve" checked="checked"><label for="example2-showentirecurve">Show entire curve</label>
			</div>
			<p>Where two curves would join together, their endpoints meet and they smoothly transition from one to the other. However, the two underlying functions for the curves are completely different. If we want to perform some sort of general calculation on a spline (eg. find the nearest point on a spline), we have to consider each segment separately.</p>
		</div>
	</body>
</html>